# 导读 {#guide .unnumbered}

### 内容结构 {-}

本书根据统计图形制作的需要，将所有内容分为三部分：

第一部分（一至三章）介绍从古至今的一些统计图形案例。首先，在欣赏前人智慧的基础上，说明统计图形在社会生活的各个方面所能体现的价值；接着，简单介绍了一下本书作图使用的工具—— R 语言；然后，从数据的角度对各种统计图形给出一些应用实例，并作出归纳总结，以便让读者清楚区分统计图形运用的条件和场合。介绍案例的同时，提供了可供运行的源代码。

第二部分（四至七章）集中介绍讲解现有的统计图形种类，如常见的条形图、直方图、箱线图、散点图等，此外还会引入若干较特殊和不太常见的图形种类和数据图示方法，并且配以相应的统计数据分析实例，深入说明统计图形的用法和含义。介绍图形的同时，提供了 R 基础作图和 **ggplot2** 作图两种解决方案的源代码。

第三部分（八至十一章）讲解 R 语言中的作图系统，包括基础函数、**ggplot2**、**lattice**、**rgl** 等多种作图系统，详细介绍了点、线、多边形、颜色和文本等图形元素的使用细节，最后总结分析了绘制统计图形的一些指导原则。本部分会给那些期望能自定义统计图形的读者提供方便的解决方案。

### 阅读方案 {-}

本书可以从任意章节开始读，各章节之间没有严格的逻辑依赖关系。不过，为了方便不同的读者，我们推荐三种阅读方案。

方案 1: 
: 对统计图形的解读感兴趣的读者，我们推荐优先阅读第一部分和第二部分。这些内容重在介绍图形实例和统计分析，重在趣味性。读者不妨在阅读的同时，考虑如何用自己熟悉的作图工具把这些图形作出来。如果读罢之后对我们推荐的作图方法产生了兴趣，可以再阅读其它重在技术性的章节。

方案 2:
: 熟悉或喜爱 R 语言的读者，我们推荐优先阅读第三部分，这样可以先对本书作图使用的 R 语言函数和附加包有个系统全面；然后，再阅读其它章节，同时体会这些函数和附加包在各个案例中是如何使用的。

方案 3:
: R 语言的初学者，我们推荐优先阅读第二章，大体了解 R 语言的基本规则之后，再阅读第三部分深入学习，同时参考我们推荐的学习资料。最后，阅读第一部分其它章节和第二部分，同时将案例的代码在 R 中运行，来重现书中的图形，巩固此前学到的知识。

书中有若干例彩蛋，它们与统计学几乎没什么关系，仅供娱乐消遣，也可作为学习函数使用方法的参考。

### 本书体例 {-}

本书正文中的代码、函数名称、对象类名称和参数名称均以等宽正体表示，如 `inline R code`、 `function()`；R 程序包用粗体表示，如 **package**。

代码区以灰色背景显示， 并且用不同颜色分别标记函数、参数、数字、字符和注释等部分；代码输出则以等宽字体的“`## `”开头，例如：

```{r, echo=TRUE}
library(MSG) # 加载本书配套的 R 包 MSG
data(PlantCounts) # 加载数据供下面的回归模型使用
summary(fit <- lm(counts ~ altitude, data = PlantCounts)) # 运算
```

记号说明如下：

灰色背景区域：
: 表示一段 R 代码。

`+`：
: 续行符；当一段程序在某一行中没有完整显示出来时，就会折到下一行，此时 R 会以“+”表示程序语句上不完整，正在继续 。

`[n]`： 
: 其中“n”表示一个整数，方括号括上一个整数表示 R 程序输出的行号，比如 [1] 表示这是第 1 行输出。

代码区的 `#`：
: 表示 R 程序注释，即不会被执行的语句（为了增强程序的可读性而写的文字）。

以`## `开头的等宽字体：
: 表示代码的执行结果。

### 可重复性 {-}

本书以 R 语言的 **bookdown** 包结合 $\LaTeX$ 写成，所有图形均为 R 代码动态生成，因此整本书稿具有可重复性（reproducible）。读者可联系我们获取书稿源代码，并配合适当的工具编译生成本书稿。

[^github-msg]: <https://github.com/yihui/MSG>

另外，本书配有相应的 R 包 **MSG** [@MSG]， 使用说明参见包的主页[^github-msg]。本书的大部分图形都直接附带有源代码，除了书中出现的代码外，均放在 **MSG** 包的演示中。读者直接在 R 语言里加载 **MSG** 包，然后运行函数 `msg(图的编号)`，就可以看到源代码和相应的图形输出。例如运行：

```{r, eval=FALSE, echo=TRUE}
library(MSG)
msg(6.7)
```
\noindent 就会作出图 6.7，并呈现作图源代码。读者可以将呈现的源代码直接拷贝粘贴到 R 语言环境中，体会其使用方法。


### 联系我们 {-}

本书的[主页](https://msg2020.pzhao.org)上提供了所有与本书有关的信息，包括作者的联系方式、书稿源代码链接、勘误表等。读者可以扫描图 \@ref(fig:msg2020-qr) 的二维码访问。

(ref:msg2020-qr) 《现代统计图形》主页地址的二维码

```{r msg2020-qr, out.width="30%", fig.cap="(ref:msg2020-qr)"}
knitr::include_graphics("images/msg2020-qr.png")
```
